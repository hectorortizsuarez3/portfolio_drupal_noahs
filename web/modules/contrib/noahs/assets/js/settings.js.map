{"version":3,"file":"settings.js","mappings":"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","sources":["webpack://mi-tema-personalizado/./sources/js/builder/modules/code_mirror.js","webpack://mi-tema-personalizado/./sources/js/builder/modules/color.js","webpack://mi-tema-personalizado/webpack/bootstrap","webpack://mi-tema-personalizado/webpack/runtime/define property getters","webpack://mi-tema-personalizado/webpack/runtime/hasOwnProperty shorthand","webpack://mi-tema-personalizado/webpack/runtime/make namespace object","webpack://mi-tema-personalizado/./sources/js/builder/settings.js"],"sourcesContent":["\n\nexport function codeMirror() {\n  (function ($, Drupal, drupalSettings) {\n\n    initMutationObserver();\n  \n\n  \n    function initMutationObserver() {\n  \n      const observer = new MutationObserver((mutations) => {\n        mutations.forEach((mutation) => {\n          mutation.addedNodes.forEach((addedNode) => {\n            if (addedNode.nodeType === 1 && addedNode.classList.contains(\"noahs_page_builder-modal\")) {\n              setTimeout(() => {\n                customMirror();\n              }, 50); \n            }\n          });\n        }); \n      }); \n  \n      observer.observe(document.body, { childList: true, subtree: true });\n    }\n\n    function customMirror(){\n\n      var textarea = $('.noahs_page_builder_codemirror');\n      const widget_id = textarea.closest('form').find('input[name=\"wid\"]').val();\n      textarea.each(function(){\n          var miTextarea = this;\n          var miCodeMirror = CodeMirror.fromTextArea(miTextarea, {\n              mode: \"css\",\n              lineNumbers: true,\n              theme: \"material-darker\",\n              extraKeys: { \"Ctrl-Space\": \"autocomplete\" }\n          });\n          \n          if(widget_id){\n            // Detectar cambios en el contenido de CodeMirror\n            miCodeMirror.on(\"change\", function(cm) {\n                var currentValue = cm.getValue();\n                textarea.val(currentValue);\n                modificarEstilo(textarea, widget_id);\n                modificarJson(textarea, widget_id);\n            });\n          }\n      });\n  }\n  \n  $(window).on('load', function() {\n    setTimeout(() => {\n    customMirror();\n  }, 50); \n  });\n})(jQuery, Drupal, drupalSettings);\n}","\n\n\n(function() {\n  const supportsPassive = (() => {\n    let passive = false;\n    try {\n      const opts = Object.defineProperty({}, 'passive', {\n        get: function() { passive = true; }\n      });\n      window.addEventListener(\"test\", null, opts);\n    } catch (e) {}\n    return passive;\n  })();\n\n  if (supportsPassive) {\n    const originalAddEventListener = EventTarget.prototype.addEventListener;\n    EventTarget.prototype.addEventListener = function(type, listener, options) {\n      if (type === \"touchstart\" || type === \"touchmove\") {\n        if (typeof options === \"object\") {\n          options.passive = true;\n        } else {\n          options = { passive: true };\n        }\n      }\n      originalAddEventListener.call(this, type, listener, options);\n    };\n  }\n})();\n \n\nexport function colorSpectrum() {\n\n  (function ($, Drupal, drupalSettings) {\n\n    \n      const palleteColors = drupalSettings?.noahs_page_builder?.pallete_color || [];\n\n      initMutationObserver();\n\n      function initMutationObserver() {\n        const observer = new MutationObserver((mutations) => {\n          mutations.forEach((mutation) => {\n            mutation.addedNodes.forEach((addedNode) => {\n              if (addedNode.nodeType === 1 && addedNode.classList.contains(\"noahs_page_builder-modal\")) {\n                setTimeout(() => {\n                  var widget_id = document.querySelector('input[name=\"wid\"]').value;\n                  initializeColorSpectrum(widget_id);\n                }, 50);\n              }\n            });\n          });\n        });\n\n        observer.observe(document.body, { childList: true, subtree: true });\n      }\n\n      function initializeColorSpectrum(widget_id) {\n        $(document).on(\"touchstart\", \".form-control-color\", function (event) {\n          event.passive = true;\n        });\n\n        document.querySelectorAll('.form-control-color').forEach((element) => {\n          if (!element.dataset.colorFieldSpectrum) {\n            element.dataset.colorFieldSpectrum = true;\n            \n            $(element).spectrum({\n              type: \"component\",\n              preferredFormat: \"hex\",\n              showInput: true,\n              showInitial: true,\n              showAlpha: true,\n              hideAfterPaletteSelect: true,\n              showPalette: true,\n              showSelectionPalette: true,\n              palette: palleteColors,\n              appendTo: element.parentElement,\n              allowEmpty: true,\n              localStorageKey: \"spectrum.default\",\n              move: function (color) {\n                // $(element).val(color.toHexString());\n                if ($(element).closest('#noahs_page_builder_edit_widget_form').length) {\n                  modificarEstilo(element, widget_id);\n                  modificarJson(element, widget_id); \n                }\n                if ($(element).closest('#noahs_page_builder_sttings_page_form').length) {\n                  modifyPageStyles();\n                }\n                if ($(element).closest('#noahs_settings_form').length) {\n                  modifyNoahsSettingstyles(element);\n                }\n              }\n            });\n          }\n        });\n\n        document.querySelectorAll('.form-control-color-alpha').forEach((element) => {\n          if (!element.dataset.colorFieldSpectrum) {\n            element.dataset.colorFieldSpectrum = true;\n\n            $(element).spectrum({\n              type: \"component\",\n              preferredFormat: \"hex\",\n              showInput: true,\n              showInitial: true,\n              showAlpha: true,\n              showPalette: true,\n              showSelectionPalette: true,\n              palette: palleteColors,\n              appendTo: element.parentElement,\n              localStorageKey: \"spectrum.overlay\",\n              move: function (color) {\n                // $(element).val(color.toHexString());\n                modificarEstilo(element, widget_id);\n              }\n            });\n          }\n        });\n      }\n\n      // Inicializar colorSpectrum en la carga del DOM\n      $(document).ready(function() {\n        initializeColorSpectrum();\n      });\n\n  })(jQuery, Drupal, drupalSettings);\n\n}","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import {codeMirror}  from './modules/code_mirror.js';\nimport {colorSpectrum}  from './modules/color.js';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n\n  codeMirror(); \n  colorSpectrum(); \n\n});\n   "],"names":["codeMirror","$","Drupal","drupalSettings","initMutationObserver","observer","MutationObserver","mutations","forEach","mutation","addedNodes","addedNode","nodeType","classList","contains","setTimeout","customMirror","observe","document","body","childList","subtree","textarea","widget_id","closest","find","val","each","miTextarea","miCodeMirror","CodeMirror","fromTextArea","mode","lineNumbers","theme","extraKeys","on","cm","currentValue","getValue","modificarEstilo","modificarJson","window","jQuery","supportsPassive","passive","opts","Object","defineProperty","get","addEventListener","e","originalAddEventListener","EventTarget","prototype","type","listener","options","_typeof","call","colorSpectrum","_drupalSettings$noahs","palleteColors","noahs_page_builder","pallete_color","querySelector","value","initializeColorSpectrum","event","querySelectorAll","element","dataset","colorFieldSpectrum","spectrum","preferredFormat","showInput","showInitial","showAlpha","hideAfterPaletteSelect","showPalette","showSelectionPalette","palette","appendTo","parentElement","allowEmpty","localStorageKey","move","color","length","modifyPageStyles","modifyNoahsSettingstyles","ready"],"sourceRoot":""}